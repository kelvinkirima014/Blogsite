<!DOCTYPE html>
<html>
    <head>

        <meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="color-scheme" content=" dark light ">
		<meta name="theme-color" content="#ffffff" media="(prefers-color-scheme:light)">
		<meta name="theme-color" content="#000000" media="(prefers-color-scheme:dark)">

		<meta property="og:site_name" content="Kelvin Kirima">

        <title> Kelvin Kirima </title>
		<meta property="og:title" content="">
		<meta name="description" content="I have spent the last few weeks working on getting this blog out; So I thought I’ll make good use of the effort by documenting how I built it. I once had a blog on a different domain that I didn’t really like because I had just copy pasted my content into a template, so it didn’t really feel like my own. For this one, I wanted something that I’d enjoy building and customising in any way I saw fit. I decided to employ the static site generator model and built a generator that takes markdown files as input and produces .html files that can be rendered on a browser. I then host the html files, and their corresponding CSS, and what you see infront of you is a result of that endeavour.">
		<meta property="og:type" content="article">

        <link rel="stylesheet" href="posts.css">

    </head>
    <body>

        <a href="/index.html" class="home-link">Kirima</a>
        
        <h1></h1>
        <div class="outline"></div>
        <div class="blog-container">
            <h2>How I Built This Site</h2><p>I have spent the last few weeks working on getting this blog out; So I thought I’ll make good use of the effort by documenting how I built it. I once had a blog on a different domain that I didn’t really like because I had just copy pasted my content into a template, so it didn’t really feel like my own. For this one, I wanted something that I’d enjoy building and customising in any way I saw fit. I decided to employ the static site generator model and built a generator that takes markdown files as input and produces .html files that can be rendered on a browser. I then host the html files, and their corresponding CSS, and what you see infront of you is a result of that endeavour.</p><h2>Reading the Markdown Files</h2><p>The first thing I wanted is a way to read the markdown files that I’d later convert to html. I came up with a simple solution; a Posts struct with just a constructor function and a single method to fetch the posts:</p><pre class='scode'><code><span class="ssource srust"><span class="smeta sstruct srust"><span class="sstorage smodifier srust">pub</span> <span class="sstorage stype sstruct srust">struct</span> </span><span class="smeta sstruct srust"><span class="sentity sname sstruct srust">Posts</span> </span><span class="smeta sstruct srust"><span class="smeta sblock srust"><span class="spunctuation ssection sblock sbegin srust">{</span>
    <span class="svariable sother smember srust">post_path</span><span class="spunctuation sseparator srust">:</span> PathBuf,
</span><span class="smeta sblock srust"><span class="spunctuation ssection sblock send srust">}</span></span></span>

<span class="smeta simpl srust"><span class="sstorage stype simpl srust">impl</span> </span><span class="smeta simpl srust"><span class="sentity sname simpl srust">Posts</span> </span><span class="smeta simpl srust"><span class="smeta sblock srust"><span class="spunctuation ssection sblock sbegin srust">{</span>
    <span class="smeta sfunction srust"><span class="smeta sfunction srust"><span class="sstorage smodifier srust">pub</span> <span class="sstorage stype sfunction srust">fn</span> </span><span class="sentity sname sfunction srust">new</span></span><span class="smeta sfunction srust"><span class="smeta sfunction sparameters srust"><span class="spunctuation ssection sparameters sbegin srust">(</span><span class="svariable sparameter srust">post_path</span><span class="spunctuation sseparator srust">:</span> PathBuf</span><span class="smeta sfunction srust"><span class="smeta sfunction sparameters srust"><span class="spunctuation ssection sparameters send srust">)</span></span></span></span><span class="smeta sfunction srust"> <span class="smeta sfunction sreturn-type srust"><span class="spunctuation sseparator srust">-&gt;</span> <span class="sstorage stype srust">Self</span></span> </span><span class="smeta sfunction srust"><span class="smeta sblock srust"><span class="spunctuation ssection sblock sbegin srust">{</span>
        Posts <span class="smeta sblock srust"><span class="spunctuation ssection sblock sbegin srust">{</span>
            post_path<span class="spunctuation sseparator srust">,</span>
        </span><span class="smeta sblock srust"><span class="spunctuation ssection sblock send srust">}</span></span>
    </span><span class="smeta sblock srust"><span class="spunctuation ssection sblock send srust">}</span></span></span>

    <span class="smeta sfunction srust"><span class="smeta sfunction srust"><span class="sstorage smodifier srust">pub</span> <span class="sstorage stype sfunction srust">fn</span> </span><span class="sentity sname sfunction srust">fetch_posts</span></span><span class="smeta sfunction srust"><span class="smeta sfunction sparameters srust"><span class="spunctuation ssection sparameters sbegin srust">(</span><span class="skeyword soperator srust">&amp;</span><span class="svariable sparameter srust">self</span></span><span class="smeta sfunction srust"><span class="smeta sfunction sparameters srust"><span class="spunctuation ssection sparameters send srust">)</span></span></span></span><span class="smeta sfunction srust"> <span class="smeta sfunction sreturn-type srust"><span class="spunctuation sseparator srust">-&gt;</span> <span class="smeta sgeneric srust">Result<span class="spunctuation sdefinition sgeneric sbegin srust">&lt;</span><span class="smeta sgeneric srust">Vec<span class="spunctuation sdefinition sgeneric sbegin srust">&lt;</span><span class="spunctuation ssection sgroup sbegin srust">(</span>PathBuf, String<span class="spunctuation ssection sgroup send srust">)</span><span class="spunctuation sdefinition sgeneric send srust">&gt;</span></span>, Error<span class="spunctuation sdefinition sgeneric send srust">&gt;</span></span></span></span><span class="smeta sfunction srust"><span class="smeta sblock srust"><span class="spunctuation ssection sblock sbegin srust">{</span>

        <span class="sstorage stype srust">let</span> <span class="sstorage smodifier srust">mut</span> posts <span class="skeyword soperator srust">=</span> <span class="ssupport smacro srust">vec!</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">[</span><span class="spunctuation ssection sgroup send srust">]</span></span><span class="spunctuation sterminator srust">;</span>

        <span class="sstorage stype srust">let</span> entries <span class="skeyword soperator srust">=</span> <span class="smeta spath srust">fs<span class="spunctuation saccessor srust">::</span></span>read_dir<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="skeyword soperator srust">&amp;</span><span class="svariable slanguage srust">self</span>.post_path</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="skeyword soperator srust">?</span><span class="spunctuation sterminator srust">;</span>
            <span class="scomment sline sdouble-slash srust"><span class="spunctuation sdefinition scomment srust">//</span>iterate over the contents of the directory
</span>            <span class="skeyword scontrol srust">for</span> entry <span class="skeyword soperator srust">in</span> entries <span class="smeta sblock srust"><span class="spunctuation ssection sblock sbegin srust">{</span>
                <span class="sstorage stype srust">let</span> entry <span class="skeyword soperator srust">=</span> entry<span class="skeyword soperator srust">?</span><span class="spunctuation sterminator srust">;</span>
                <span class="sstorage stype srust">let</span> path <span class="skeyword soperator srust">=</span> entry.<span class="ssupport sfunction srust">path</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>

                <span class="scomment sline sdouble-slash srust"><span class="spunctuation sdefinition scomment srust">//</span>check if the entry is a file and has .md extension
</span>                <span class="skeyword scontrol srust">if</span> entry.<span class="ssupport sfunction srust">file_type</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="skeyword soperator srust">?</span>.<span class="ssupport sfunction srust">is_file</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span> <span class="skeyword soperator srust">&amp;</span><span class="skeyword soperator srust">&amp;</span> path.<span class="ssupport sfunction srust">extension</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span>
                    .<span class="ssupport sfunction srust">and_then</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="smeta sfunction sclosure srust"><span class="smeta sfunction sparameters srust"><span class="spunctuation ssection sparameters sbegin srust">|</span></span></span><span class="smeta sfunction sclosure srust"><span class="smeta sfunction sparameters srust"><span class="svariable sparameter srust">e</span><span class="spunctuation ssection sparameters send srust">|</span></span> </span><span class="smeta sfunction sclosure srust">e.<span class="ssupport sfunction srust">to_str</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span> <span class="skeyword soperator srust">=</span><span class="skeyword soperator srust">=</span> <span class="ssupport stype srust">Some</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>md<span class="spunctuation sdefinition sstring send srust">&quot;</span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span> <span class="smeta sblock srust"><span class="spunctuation ssection sblock sbegin srust">{</span>
                        <span class="sstorage stype srust">let</span> <span class="sstorage smodifier srust">mut</span> file <span class="skeyword soperator srust">=</span> <span class="smeta spath srust">File<span class="spunctuation saccessor srust">::</span></span>open<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="skeyword soperator srust">&amp;</span>path</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="skeyword soperator srust">?</span><span class="spunctuation sterminator srust">;</span>
                        <span class="sstorage stype srust">let</span> <span class="sstorage smodifier srust">mut</span> contents <span class="skeyword soperator srust">=</span> <span class="ssupport stype srust">String</span><span class="smeta spath srust"><span class="spunctuation saccessor srust">::</span></span>new<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>
                        file.<span class="ssupport sfunction srust">read_to_string</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="skeyword soperator srust">&amp;</span><span class="sstorage smodifier srust">mut</span> contents</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="skeyword soperator srust">?</span><span class="spunctuation sterminator srust">;</span>
                        posts.<span class="ssupport sfunction srust">push</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span>path<span class="spunctuation sseparator srust">,</span> contents</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>
                    </span><span class="smeta sblock srust"><span class="spunctuation ssection sblock send srust">}</span></span>
            </span><span class="smeta sblock srust"><span class="spunctuation ssection sblock send srust">}</span></span>

            <span class="ssupport stype srust">Ok</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span>posts</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span>

    </span><span class="smeta sblock srust"><span class="spunctuation ssection sblock send srust">}</span></span></span>
</span><span class="smeta sblock srust"><span class="spunctuation ssection sblock send srust">}</span></span></span>
</span></code></pre><p>With this implementation in place, consuming markdown files from a markdown folder is as easy as:</p><pre class='scode'><code><span class="ssource srust">
<span class="sstorage stype srust">let</span> posts_path <span class="skeyword soperator srust">=</span> <span class="smeta spath srust">PathBuf<span class="spunctuation saccessor srust">::</span></span>from<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>./markdown<span class="spunctuation sdefinition sstring send srust">&quot;</span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>

<span class="sstorage stype srust">let</span> posts <span class="skeyword soperator srust">=</span> <span class="smeta spath srust">Posts<span class="spunctuation saccessor srust">::</span></span>new<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span>posts_path</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>

<span class="sstorage stype srust">let</span> fetch_posts <span class="skeyword soperator srust">=</span> posts.<span class="ssupport sfunction srust">fetch_posts</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>
</span></code></pre><h2>The HTML Generator, Initial Approach</h2><p>Now that I have access to the markdown files, the next thing I need to do is parse this markdown to html.Initially, I wrote a simple helper function that takes a string slice: <code class ='scode'>markdown</code>, and returns a html string using a parser from the pulldown_cmark crate. The code looked like this:</p><pre class='scode'><code><span class="ssource srust"><span class="smeta sfunction srust"><span class="smeta sfunction srust"><span class="sstorage stype sfunction srust">fn</span> </span><span class="sentity sname sfunction srust">md_to_html</span></span><span class="smeta sfunction srust"><span class="smeta sfunction sparameters srust"><span class="spunctuation ssection sparameters sbegin srust">(</span><span class="svariable sparameter srust">markdown</span><span class="spunctuation sseparator srust">:</span> <span class="skeyword soperator srust">&amp;</span><span class="sstorage stype srust">str</span></span><span class="smeta sfunction srust"><span class="smeta sfunction sparameters srust"><span class="spunctuation ssection sparameters send srust">)</span></span></span></span><span class="smeta sfunction srust"> <span class="smeta sfunction sreturn-type srust"><span class="spunctuation sseparator srust">-&gt;</span> String</span> </span><span class="smeta sfunction srust"><span class="smeta sblock srust"><span class="spunctuation ssection sblock sbegin srust">{</span>
    <span class="sstorage stype srust">let</span> parser <span class="skeyword soperator srust">=</span> <span class="smeta spath srust">pulldown_cmark<span class="spunctuation saccessor srust">::</span></span><span class="smeta spath srust">Parser<span class="spunctuation saccessor srust">::</span></span>new_ext<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="skeyword soperator srust">&amp;</span>markdown<span class="spunctuation sseparator srust">,</span><span class="smeta spath srust">pulldown_cmark<span class="spunctuation saccessor srust">::</span></span><span class="smeta spath srust">Options<span class="spunctuation saccessor srust">::</span></span>Empty<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>
    <span class="sstorage stype srust">let</span> <span class="sstorage smodifier srust">mut</span> html_output <span class="skeyword soperator srust">=</span> <span class="ssupport stype srust">String</span><span class="smeta spath srust"><span class="spunctuation saccessor srust">::</span></span>new<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>
    <span class="smeta spath srust">pulldown_cmark<span class="spunctuation saccessor srust">::</span></span><span class="smeta spath srust">html<span class="spunctuation saccessor srust">::</span></span>push_str<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="skeyword soperator srust">&amp;</span>html_output<span class="spunctuation sseparator srust">,</span> parser</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>

    html_output
</span><span class="smeta sblock srust"><span class="spunctuation ssection sblock send srust">}</span></span></span>
</span></code></pre><p>I consumed the <code class ='scode'>md_to_html</code> inside the function that actually does the generation: </p><pre class='scode'><code><span class="ssource srust"><span class="smeta sfunction srust"><span class="smeta sfunction srust"><span class="sstorage smodifier srust">pub</span> <span class="sstorage stype sfunction srust">fn</span> </span><span class="sentity sname sfunction srust">generate_html</span></span><span class="smeta sfunction srust"><span class="smeta sfunction sparameters srust"><span class="spunctuation ssection sparameters sbegin srust">(</span><span class="svariable sparameter srust">posts</span><span class="spunctuation sseparator srust">:</span> <span class="skeyword soperator srust">&amp;</span>[<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="svariable sparameter srust">PathBuf</span><span class="spunctuation sseparator srust">,</span> <span class="svariable sparameter srust">String</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span>]</span><span class="smeta sfunction srust"><span class="smeta sfunction sparameters srust"><span class="spunctuation ssection sparameters send srust">)</span></span></span></span><span class="smeta sfunction srust"> <span class="smeta sfunction sreturn-type srust"><span class="spunctuation sseparator srust">-&gt;</span> <span class="smeta sgeneric srust">Result<span class="spunctuation sdefinition sgeneric sbegin srust">&lt;</span><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="spunctuation ssection sgroup send srust">)</span>, <span class="smeta spath srust">io<span class="spunctuation saccessor srust">::</span></span>Error<span class="spunctuation sdefinition sgeneric send srust">&gt;</span></span></span> </span><span class="smeta sfunction srust"><span class="smeta sblock srust"><span class="spunctuation ssection sblock sbegin srust">{</span>
    <span class="sstorage stype srust">let</span> <span class="sstorage smodifier srust">mut</span> handlebars <span class="skeyword soperator srust">=</span> <span class="smeta spath srust">Handlebars<span class="spunctuation saccessor srust">::</span></span>new<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>
        handlebars.<span class="ssupport sfunction srust">register_template_file</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>blog_template<span class="spunctuation sdefinition sstring send srust">&quot;</span></span><span class="spunctuation sseparator srust">,</span> <span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>templates/posts.hbs<span class="spunctuation sdefinition sstring send srust">&quot;</span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span>
        .<span class="ssupport sfunction srust">map_err</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="smeta sfunction sclosure srust"><span class="smeta sfunction sparameters srust"><span class="spunctuation ssection sparameters sbegin srust">|</span></span></span><span class="smeta sfunction sclosure srust"><span class="smeta sfunction sparameters srust"><span class="svariable sparameter srust">err</span><span class="spunctuation ssection sparameters send srust">|</span></span> </span><span class="smeta sfunction sclosure srust"><span class="smeta spath srust">io<span class="spunctuation saccessor srust">::</span></span><span class="smeta spath srust">Error<span class="spunctuation saccessor srust">::</span></span>new<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="smeta spath srust">io<span class="spunctuation saccessor srust">::</span></span><span class="smeta spath srust">ErrorKind<span class="spunctuation saccessor srust">::</span></span>Other<span class="spunctuation sseparator srust">,</span> err</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="skeyword soperator srust">?</span><span class="spunctuation sterminator srust">;</span>

    <span class="sstorage stype srust">let</span> output_dir <span class="skeyword soperator srust">=</span> <span class="smeta spath srust">PathBuf<span class="spunctuation saccessor srust">::</span></span>from<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>blog<span class="spunctuation sdefinition sstring send srust">&quot;</span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>
    <span class="skeyword scontrol srust">match</span> <span class="smeta spath srust">fs<span class="spunctuation saccessor srust">::</span></span>create_dir_all<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="skeyword soperator srust">&amp;</span>output_dir</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span> <span class="smeta sblock srust"><span class="spunctuation ssection sblock sbegin srust">{</span>
        <span class="ssupport stype srust">Ok</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span>dir</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span> <span class="skeyword soperator srust">=&gt;</span> dir<span class="spunctuation sseparator srust">,</span>
        <span class="ssupport stype srust">Err</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span>err</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span> <span class="skeyword soperator srust">=&gt;</span> <span class="skeyword scontrol srust">return</span> <span class="ssupport stype srust">Err</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span>err</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sseparator srust">,</span>
    </span><span class="smeta sblock srust"><span class="spunctuation ssection sblock send srust">}</span></span>
    
    <span class="skeyword scontrol srust">for</span> <span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span>path<span class="spunctuation sseparator srust">,</span> contents</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span> <span class="skeyword soperator srust">in</span> posts <span class="smeta sblock srust"><span class="spunctuation ssection sblock sbegin srust">{</span>
        <span class="sstorage stype srust">let</span> split_front_matter<span class="spunctuation sseparator srust">:</span> <span class="smeta sgeneric srust">Vec<span class="spunctuation sdefinition sgeneric sbegin srust">&lt;</span><span class="skeyword soperator srust">&amp;</span><span class="sstorage stype srust">str</span><span class="spunctuation sdefinition sgeneric send srust">&gt;</span></span> <span class="skeyword soperator srust">=</span> contents.<span class="ssupport sfunction srust">splitn</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="sconstant snumeric sinteger sdecimal srust">3</span><span class="spunctuation sseparator srust">,</span> <span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>---<span class="spunctuation sdefinition sstring send srust">&quot;</span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span>.<span class="ssupport sfunction srust">collect</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>
        <span class="sstorage stype srust">let</span> yaml_front_matter <span class="skeyword soperator srust">=</span> split_front_matter.<span class="ssupport sfunction srust">get</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="sconstant snumeric sinteger sdecimal srust">1</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span>.<span class="ssupport sfunction srust">unwrap_or</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="skeyword soperator srust">&amp;</span><span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span><span class="spunctuation sdefinition sstring send srust">&quot;</span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>
        <span class="sstorage stype srust">let</span> markdown <span class="skeyword soperator srust">=</span> split_front_matter.<span class="ssupport sfunction srust">get</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="sconstant snumeric sinteger sdecimal srust">2</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span>.<span class="ssupport sfunction srust">unwrap_or</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="skeyword soperator srust">&amp;</span><span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span><span class="spunctuation sdefinition sstring send srust">&quot;</span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>

        <span class="sstorage stype srust">let</span> yaml_data<span class="spunctuation sseparator srust">:</span> <span class="smeta spath srust">serde_yaml<span class="spunctuation saccessor srust">::</span></span>Value <span class="skeyword soperator srust">=</span> <span class="smeta spath srust">serde_yaml<span class="spunctuation saccessor srust">::</span></span>from_str<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span>yaml_front_matter</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span>.<span class="ssupport sfunction srust">unwrap</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>

        <span class="sstorage stype srust">let</span> post_title <span class="skeyword soperator srust">=</span> yaml_data<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">[</span><span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>title<span class="spunctuation sdefinition sstring send srust">&quot;</span></span><span class="spunctuation ssection sgroup send srust">]</span></span>.<span class="ssupport sfunction srust">as_str</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>
        <span class="sstorage stype srust">let</span> post_description <span class="skeyword soperator srust">=</span> yaml_data<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">[</span><span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>description<span class="spunctuation sdefinition sstring send srust">&quot;</span></span><span class="spunctuation ssection sgroup send srust">]</span></span>.<span class="ssupport sfunction srust">as_str</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>
        <span class="sstorage stype srust">let</span> content <span class="skeyword soperator srust">=</span> <span class="ssupport sfunction srust">md_to_html</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span>markdown</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>
        <span class="sstorage stype srust">let</span> post_date <span class="skeyword soperator srust">=</span> yaml_data<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">[</span><span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>date<span class="spunctuation sdefinition sstring send srust">&quot;</span></span><span class="spunctuation ssection sgroup send srust">]</span></span>.<span class="ssupport sfunction srust">as_str</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>

        <span class="sstorage stype srust">let</span> rendered_html <span class="skeyword soperator srust">=</span> <span class="skeyword scontrol srust">match</span> handlebars.<span class="ssupport sfunction srust">render</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>blog_template<span class="spunctuation sdefinition sstring send srust">&quot;</span></span><span class="spunctuation sseparator srust">,</span> <span class="skeyword soperator srust">&amp;</span><span class="ssupport smacro srust">json!</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="smeta sblock srust"><span class="spunctuation ssection sblock sbegin srust">{</span>
            <span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>post_title<span class="spunctuation sdefinition sstring send srust">&quot;</span></span><span class="spunctuation sseparator srust">:</span> post_title<span class="spunctuation sseparator srust">,</span>
            <span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>post_description<span class="spunctuation sdefinition sstring send srust">&quot;</span></span><span class="spunctuation sseparator srust">:</span> post_description<span class="spunctuation sseparator srust">,</span>
            <span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>post_content<span class="spunctuation sdefinition sstring send srust">&quot;</span></span><span class="spunctuation sseparator srust">:</span> content<span class="spunctuation sseparator srust">,</span>
            <span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>post_date<span class="spunctuation sdefinition sstring send srust">&quot;</span></span><span class="spunctuation sseparator srust">:</span> post_date<span class="spunctuation sseparator srust">,</span>
        </span><span class="smeta sblock srust"><span class="spunctuation ssection sblock send srust">}</span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span> <span class="smeta sblock srust"><span class="spunctuation ssection sblock sbegin srust">{</span>
            <span class="ssupport stype srust">Ok</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span>html</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span> <span class="skeyword soperator srust">=&gt;</span> html<span class="spunctuation sseparator srust">,</span>
            <span class="ssupport stype srust">Err</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span>err</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span> <span class="skeyword soperator srust">=&gt;</span> <span class="skeyword scontrol srust">return</span> <span class="ssupport stype srust">Err</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="smeta spath srust">io<span class="spunctuation saccessor srust">::</span></span><span class="smeta spath srust">Error<span class="spunctuation saccessor srust">::</span></span>new<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="smeta spath srust">io<span class="spunctuation saccessor srust">::</span></span><span class="smeta spath srust">ErrorKind<span class="spunctuation saccessor srust">::</span></span>Other<span class="spunctuation sseparator srust">,</span> err</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sseparator srust">,</span>    
        </span><span class="smeta sblock srust"><span class="spunctuation ssection sblock send srust">}</span></span><span class="spunctuation sterminator srust">;</span> 

        <span class="sstorage stype srust">let</span> file_name <span class="skeyword soperator srust">=</span> path.<span class="ssupport sfunction srust">file_stem</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span>
        .<span class="ssupport sfunction srust">and_then</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="smeta sfunction sclosure srust"><span class="smeta sfunction sparameters srust"><span class="spunctuation ssection sparameters sbegin srust">|</span></span></span><span class="smeta sfunction sclosure srust"><span class="smeta sfunction sparameters srust"><span class="svariable sparameter srust">stem</span><span class="spunctuation ssection sparameters send srust">|</span></span> </span><span class="smeta sfunction sclosure srust">stem.<span class="ssupport sfunction srust">to_str</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span>
        .<span class="ssupport sfunction srust">unwrap_or</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span><span class="spunctuation sdefinition sstring send srust">&quot;</span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>
        <span class="sstorage stype srust">let</span> output_file <span class="skeyword soperator srust">=</span> output_dir.<span class="ssupport sfunction srust">join</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="ssupport smacro srust">format!</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span><span class="sconstant sother splaceholder srust">{}</span>.html<span class="spunctuation sdefinition sstring send srust">&quot;</span></span></span><span class="smeta sgroup srust"><span class="spunctuation sseparator srust">,</span> file_name<span class="spunctuation ssection sgroup send srust">)</span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>
        <span class="smeta spath srust">fs<span class="spunctuation saccessor srust">::</span></span>write<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="skeyword soperator srust">&amp;</span>output_file<span class="spunctuation sseparator srust">,</span> rendered_html</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="skeyword soperator srust">?</span><span class="spunctuation sterminator srust">;</span>
    </span><span class="smeta sblock srust"><span class="spunctuation ssection sblock send srust">}</span></span>

    <span class="ssupport stype srust">Ok</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span>
</span><span class="smeta sblock srust"><span class="spunctuation ssection sblock send srust">}</span></span></span>
</span></code></pre><p>In the code above, I use the Handlebars templating engine to register a template file in order to enhance the appearance and functionality of the blog. Typically, markdown content takes this structure:</p><pre class='scode'><code>---
title: blog_title
description: blog_description
---
</code></pre><p>The dotted lines are known as frontmatter, and we’ve to split them in order to extract the content:</p><pre class='scode'><code><span class="ssource srust"><span class="sstorage stype srust">let</span> split_front_matter<span class="spunctuation sseparator srust">:</span> <span class="smeta sgeneric srust">Vec<span class="spunctuation sdefinition sgeneric sbegin srust">&lt;</span><span class="skeyword soperator srust">&amp;</span><span class="sstorage stype srust">str</span><span class="spunctuation sdefinition sgeneric send srust">&gt;</span></span> <span class="skeyword soperator srust">=</span> contents.<span class="ssupport sfunction srust">splitn</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="sconstant snumeric sinteger sdecimal srust">3</span><span class="spunctuation sseparator srust">,</span> <span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>---<span class="spunctuation sdefinition sstring send srust">&quot;</span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span>.<span class="ssupport sfunction srust">collect</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>
<span class="sstorage stype srust">let</span> yaml_front_matter <span class="skeyword soperator srust">=</span> split_front_matter.<span class="ssupport sfunction srust">get</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="sconstant snumeric sinteger sdecimal srust">1</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span>.<span class="ssupport sfunction srust">unwrap_or</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="skeyword soperator srust">&amp;</span><span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span><span class="spunctuation sdefinition sstring send srust">&quot;</span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>
<span class="sstorage stype srust">let</span> markdown <span class="skeyword soperator srust">=</span> split_front_matter.<span class="ssupport sfunction srust">get</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="sconstant snumeric sinteger sdecimal srust">2</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span>.<span class="ssupport sfunction srust">unwrap_or</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="skeyword soperator srust">&amp;</span><span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span><span class="spunctuation sdefinition sstring send srust">&quot;</span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>

<span class="sstorage stype srust">let</span> yaml_data<span class="spunctuation sseparator srust">:</span> <span class="smeta spath srust">serde_yaml<span class="spunctuation saccessor srust">::</span></span>Value <span class="skeyword soperator srust">=</span> <span class="smeta spath srust">serde_yaml<span class="spunctuation saccessor srust">::</span></span>from_str<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span>yaml_front_matter</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span>.<span class="ssupport sfunction srust">unwrap</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>
</span></code></pre><p>We combine the markdown content and the handlebars template like so:</p><pre class='scode'><code><span class="ssource srust"><span class="sstorage stype srust">let</span> post_title <span class="skeyword soperator srust">=</span> yaml_data<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">[</span><span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>title<span class="spunctuation sdefinition sstring send srust">&quot;</span></span><span class="spunctuation ssection sgroup send srust">]</span></span>.<span class="ssupport sfunction srust">as_str</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>
<span class="sstorage stype srust">let</span> post_description <span class="skeyword soperator srust">=</span> yaml_data<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">[</span><span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>description<span class="spunctuation sdefinition sstring send srust">&quot;</span></span><span class="spunctuation ssection sgroup send srust">]</span></span>.<span class="ssupport sfunction srust">as_str</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>
<span class="sstorage stype srust">let</span> content <span class="skeyword soperator srust">=</span> <span class="ssupport sfunction srust">md_to_html</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span>markdown</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>        <span class="sstorage stype srust">let</span> post_date <span class="skeyword soperator srust">=</span> yaml_data<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">[</span><span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>date<span class="spunctuation sdefinition sstring send srust">&quot;</span></span><span class="spunctuation ssection sgroup send srust">]</span></span>.<span class="ssupport sfunction srust">as_str</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sterminator srust">;</span>
    <span class="sstorage stype srust">let</span> rendered_html <span class="skeyword soperator srust">=</span> <span class="skeyword scontrol srust">match</span> handlebars.<span class="ssupport sfunction srust">render</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>blog_template<span class="spunctuation sdefinition sstring send srust">&quot;</span></span><span class="spunctuation sseparator srust">,</span> <span class="skeyword soperator srust">&amp;</span><span class="ssupport smacro srust">json!</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="smeta sblock srust"><span class="spunctuation ssection sblock sbegin srust">{</span>          <span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>post_title<span class="spunctuation sdefinition sstring send srust">&quot;</span></span><span class="spunctuation sseparator srust">:</span> post_title<span class="spunctuation sseparator srust">,</span>
    <span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>post_description<span class="spunctuation sdefinition sstring send srust">&quot;</span></span><span class="spunctuation sseparator srust">:</span> post_description<span class="spunctuation sseparator srust">,</span>
    <span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>post_content<span class="spunctuation sdefinition sstring send srust">&quot;</span></span><span class="spunctuation sseparator srust">:</span> content<span class="spunctuation sseparator srust">,</span>
    <span class="sstring squoted sdouble srust"><span class="spunctuation sdefinition sstring sbegin srust">&quot;</span>post_date<span class="spunctuation sdefinition sstring send srust">&quot;</span></span><span class="spunctuation sseparator srust">:</span> post_date<span class="spunctuation sseparator srust">,</span>
</span><span class="smeta sblock srust"><span class="spunctuation ssection sblock send srust">}</span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span> <span class="smeta sblock srust"><span class="spunctuation ssection sblock sbegin srust">{</span>
        <span class="ssupport stype srust">Ok</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span>html</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span> <span class="skeyword soperator srust">=&gt;</span> html<span class="spunctuation sseparator srust">,</span>
        <span class="ssupport stype srust">Err</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span>err</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span> <span class="skeyword soperator srust">=&gt;</span> <span class="skeyword scontrol srust">return</span> <span class="ssupport stype srust">Err</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="smeta spath srust">io<span class="spunctuation saccessor srust">::</span></span><span class="smeta spath srust">Error<span class="spunctuation saccessor srust">::</span></span>new<span class="smeta sgroup srust"><span class="spunctuation ssection sgroup sbegin srust">(</span><span class="smeta spath srust">io<span class="spunctuation saccessor srust">::</span></span><span class="smeta spath srust">ErrorKind<span class="spunctuation saccessor srust">::</span></span>Other<span class="spunctuation sseparator srust">,</span> err</span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span></span><span class="smeta sgroup srust"><span class="spunctuation ssection sgroup send srust">)</span></span><span class="spunctuation sseparator srust">,</span>    
    </span><span class="smeta sblock srust"><span class="spunctuation ssection sblock send srust">}</span></span><span class="spunctuation sterminator srust">;</span> 

</span></code></pre><p>This approach looked reasonable at the start, but I ran into a problem when I tried publishing an article with code blocks; the code blocks lacked syntax highlighting. </p>
        </div>

         <footer>
            <p>Copyright © 2023 🚀 Kelvin Kirima.</p>
        </footer>

    </body>
</html>